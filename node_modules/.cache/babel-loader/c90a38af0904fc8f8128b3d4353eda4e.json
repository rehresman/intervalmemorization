{"ast":null,"code":"var _jsxFileName = \"/Users/ryanehresman/Documents/JS/create-react-app-next/musicstudy/src/stopwatch.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { startTime, updateTime } from \"./actions/index\";\n\nclass Stopwatch extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      interval: null\n    };\n  }\n\n  componentDidMount() {\n    //TODO: make this tick every 100ms\n    //TODO: This won't work if the session goes through midnight\n    this.setState({\n      interval: setInterval(() => this.props.dispatch(updateTime(new Date().getTime())), 100)\n    });\n    this.props.dispatch(startTime(new Date().getTime()));\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.interval); //TODO: Clear redux store data too on unmount\n  }\n\n  render() {\n    const value = Math.round((this.props.time.currentTime - this.props.time.start) / 1000);\n    const seconds = value % 60;\n    const minutes = Math.floor(value / 60);\n    const zero = seconds < 10 ? 0 : \"\";\n    return /*#__PURE__*/React.createElement(\"time\", {\n      id: \"timer\",\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 4\n      }\n    }, minutes, \":\", zero, seconds);\n  }\n\n}\n\nfunction mapStateToProps({\n  notes,\n  viewControls,\n  time\n}) {\n  return {\n    notes,\n    viewControls,\n    time\n  };\n}\n\nexport default connect(mapStateToProps)(Stopwatch);","map":{"version":3,"sources":["/Users/ryanehresman/Documents/JS/create-react-app-next/musicstudy/src/stopwatch.js"],"names":["React","connect","startTime","updateTime","Stopwatch","Component","constructor","state","interval","componentDidMount","setState","setInterval","props","dispatch","Date","getTime","componentWillUnmount","clearInterval","render","value","Math","round","time","currentTime","start","seconds","minutes","floor","zero","mapStateToProps","notes","viewControls"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,iBAAtC;;AAEA,MAAMC,SAAN,SAAwBJ,KAAK,CAACK,SAA9B,CAAwC;AACvCC,EAAAA,WAAW,GAAG;AACb;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,QAAQ,EAAE;AADE,KAAb;AAGA;;AAEDC,EAAAA,iBAAiB,GAAG;AACnB;AACA;AACA,SAAKC,QAAL,CAAc;AACbF,MAAAA,QAAQ,EAAEG,WAAW,CACpB,MAAM,KAAKC,KAAL,CAAWC,QAAX,CAAoBV,UAAU,CAAC,IAAIW,IAAJ,GAAWC,OAAX,EAAD,CAA9B,CADc,EAEpB,GAFoB;AADR,KAAd;AAMA,SAAKH,KAAL,CAAWC,QAAX,CAAoBX,SAAS,CAAC,IAAIY,IAAJ,GAAWC,OAAX,EAAD,CAA7B;AACA;;AAEDC,EAAAA,oBAAoB,GAAG;AACtBC,IAAAA,aAAa,CAAC,KAAKV,KAAL,CAAWC,QAAZ,CAAb,CADsB,CAEtB;AACA;;AAEDU,EAAAA,MAAM,GAAG;AACR,UAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CACb,CAAC,KAAKT,KAAL,CAAWU,IAAX,CAAgBC,WAAhB,GAA8B,KAAKX,KAAL,CAAWU,IAAX,CAAgBE,KAA/C,IAAwD,IAD3C,CAAd;AAGA,UAAMC,OAAO,GAAGN,KAAK,GAAG,EAAxB;AACA,UAAMO,OAAO,GAAGN,IAAI,CAACO,KAAL,CAAWR,KAAK,GAAG,EAAnB,CAAhB;AACA,UAAMS,IAAI,GAAGH,OAAO,GAAG,EAAV,GAAe,CAAf,GAAmB,EAAhC;AACA,wBACC;AAAM,MAAA,EAAE,EAAC,OAAT;AAAiB,MAAA,SAAS,EAAC,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEC,OADF,OACYE,IADZ,EAEEH,OAFF,CADD;AAMA;;AAtCsC;;AAyCxC,SAASI,eAAT,CAAyB;AAAEC,EAAAA,KAAF;AAASC,EAAAA,YAAT;AAAuBT,EAAAA;AAAvB,CAAzB,EAAwD;AACvD,SAAO;AAAEQ,IAAAA,KAAF;AAASC,IAAAA,YAAT;AAAuBT,IAAAA;AAAvB,GAAP;AACA;;AAED,eAAerB,OAAO,CAAC4B,eAAD,CAAP,CAAyBzB,SAAzB,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { startTime, updateTime } from \"./actions/index\";\n\nclass Stopwatch extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tinterval: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t//TODO: make this tick every 100ms\n\t\t//TODO: This won't work if the session goes through midnight\n\t\tthis.setState({\n\t\t\tinterval: setInterval(\n\t\t\t\t() => this.props.dispatch(updateTime(new Date().getTime())),\n\t\t\t\t100\n\t\t\t),\n\t\t});\n\t\tthis.props.dispatch(startTime(new Date().getTime()));\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.state.interval);\n\t\t//TODO: Clear redux store data too on unmount\n\t}\n\n\trender() {\n\t\tconst value = Math.round(\n\t\t\t(this.props.time.currentTime - this.props.time.start) / 1000\n\t\t);\n\t\tconst seconds = value % 60;\n\t\tconst minutes = Math.floor(value / 60);\n\t\tconst zero = seconds < 10 ? 0 : \"\";\n\t\treturn (\n\t\t\t<time id=\"timer\" className=\"mt-3\">\n\t\t\t\t{minutes}:{zero}\n\t\t\t\t{seconds}\n\t\t\t</time>\n\t\t);\n\t}\n}\n\nfunction mapStateToProps({ notes, viewControls, time }) {\n\treturn { notes, viewControls, time };\n}\n\nexport default connect(mapStateToProps)(Stopwatch);\n"]},"metadata":{},"sourceType":"module"}